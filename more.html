<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>NitePlay â€” Explore More Videos</title>

  <!-- SEO -->
  <meta name="description" content="Browse NitePlay library â€” exclusive premium videos updated regularly.">
  <meta name="keywords" content="NitePlay, video library, streaming, exclusive clips">
  <meta name="robots" content="index,follow" />
  <link rel="canonical" href="https://niteplayhub.github.io/more.html">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="NitePlay â€” Explore More Videos">
  <meta property="og:description" content="Browse NitePlay library â€” exclusive premium videos updated regularly.">
  <meta property="og:image" content="https://niteplayhub.github.io/assets/thumb2.jpg">
  <meta property="og:url" content="https://niteplayhub.github.io/more.html">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="NitePlay â€” Explore More Videos">
  <meta name="twitter:description" content="Browse NitePlay library â€” exclusive premium videos updated regularly.">
  <meta name="twitter:image" content="https://niteplayhub.github.io/assets/thumb2.jpg">

  <link rel="icon" href="https://niteplayhub.github.io/assets/favicon.png" type="image/png">
  <link rel="stylesheet" href="style.css">

  <style>
    /* fallback modal styles if needed */
    .modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,0.85);align-items:center;justify-content:center;z-index:1200}
    .modal.show{display:flex}
    .modal-box{width:90%;max-width:1000px;background:#0b0b0d;padding:18px;border-radius:12px}
    .modal-box video{width:100%;height:auto;border-radius:8px}
    .close-btn{position:absolute;right:18px;top:14px;font-size:26px;color:#fff;cursor:pointer}
  </style>
</head>
<body>
  <header class="header">
    <div class="logo">NitePlay</div>
  </header>

  <p class="tag">Browse and enjoy more exclusive videos</p>

  <main class="container" style="padding:20px;">
    <h2 style="text-align:center; margin-bottom:18px;">ðŸ“º More Videos</h2>

    <section id="video-grid" class="video-grid" aria-live="polite">
      <!-- Generated by JS from videos.json -->
    </section>

    <div style="text-align:center;margin-top:28px;">
      <a href="index.html" class="btn">â¬… Back to Home</a>
    </div>
  </main>

  <!-- Modal Player -->
  <div id="videoModal" class="modal" aria-hidden="true">
    <div class="modal-box" role="dialog" aria-modal="true">
      <span class="close-btn" id="closeModal">Ã—</span>
      <video id="modalVideo" controls></video>

      <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:10px">
        <a id="downloadBtn" class="btn ghost" href="#" target="_blank" rel="noopener">â¬‡ Download</a>
        <button id="shareBtn" class="btn">ðŸ”— Share</button>
      </div>

      <div class="ad-slot" style="margin-top:12px">ðŸ”¥ Ad slot 300Ã—250 â€” replace with ad code later</div>
    </div>
  </div>

  <footer class="footer">
    <div class="social">
      <a href="https://t.me/yourchannel" target="_blank" aria-label="Telegram"><i class="fab fa-telegram"></i></a>
      <a href="https://twitter.com/yourhandle" target="_blank" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
      <a href="https://facebook.com/yourpage" target="_blank" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
    </div>
    <p>Â© 2025 NitePlay. All rights reserved.</p>
  </footer>

  <!-- Font Awesome (icons) -->
  <script src="https://kit.fontawesome.com/your_kit_id.js" crossorigin="anonymous"></script>

  <script>
    // Load gallery from videos.json
    async function loadGallery(){
      try {
        const res = await fetch('videos.json', {cache:'no-store'});
        const videos = await res.json();
        const grid = document.getElementById('video-grid');

        videos.forEach(v => {
          const card = document.createElement('article');
          card.className = 'video-card';
          card.innerHTML = `
            <img src="${v.thumbnail}" alt="${escapeHtml(v.title)}">
            <h3>${escapeHtml(v.title)}</h3>
            <div style="padding:0 12px 18px;">
              <button class="btn play-btn" data-src="${v.src}" data-title="${escapeHtml(v.title)}">â–¶ Play</button>
            </div>
          `;
          grid.appendChild(card);
        });

        attachPlayerHandlers();
      } catch (err){
        console.error(err);
        document.getElementById('video-grid').innerHTML = '<p style="color:#ccc;text-align:center">Failed to load videos.</p>';
      }
    }

    function escapeHtml(s){ return String(s).replace(/[&<>"']/g, c=>({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[c])); }

    function attachPlayerHandlers(){
      const modal = document.getElementById('videoModal');
      const modalVideo = document.getElementById('modalVideo');
      const closeModal = document.getElementById('closeModal');
      const downloadBtn = document.getElementById('downloadBtn');
      const shareBtn = document.getElementById('shareBtn');

      document.querySelectorAll('.play-btn').forEach(btn => {
        btn.addEventListener('click', () => {
          const src = btn.dataset.src;
          const title = btn.dataset.title;
          modal.classList.add('show');
          modal.setAttribute('aria-hidden','false');
          modalVideo.querySelector('source')?.remove();
          const source = document.createElement('source');
          source.src = src;
          source.type = 'video/mp4';
          modalVideo.appendChild(source);
          modalVideo.load();
          modalVideo.play().catch(()=>{});
          downloadBtn.href = src;
        });
      });

      closeModal.addEventListener('click', closeFunc);
      modal.addEventListener('click', (e)=> { if(e.target === modal) closeFunc(); });
      document.addEventListener('keydown', (e)=> { if(e.key === 'Escape') closeFunc(); });

      shareBtn.addEventListener('click', async () => {
        const src = downloadBtn.href;
        if(navigator.share){
          try { await navigator.share({title: document.title, url: src}); return; } catch(_) {}
        }
        try { await navigator.clipboard.writeText(src); alert('Link copied to clipboard'); } catch { prompt('Copy this link', src); }
      });

      function closeFunc(){
        modal.classList.remove('show');
        modal.setAttribute('aria-hidden','true');
        modalVideo.pause();
        modalVideo.querySelectorAll('source').forEach(s => s.remove());
        modalVideo.load();
      }
    }

    loadGallery();
  </script>
</body>
</html>